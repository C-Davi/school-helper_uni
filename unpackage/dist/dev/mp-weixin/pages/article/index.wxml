<wxs src="../../utils/mod.wxs" module="mod"></wxs>
<view><block wx:if="{{articleList[0]}}"><view class="list-header"><view class="list-header-img"><image src="../../static/image/list_header_index.png"></image></view><view data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" class="list-header-sort" bindtap="__e"><label class="{{['_span',listSort?'check':'']}}">冷</label><block wx:if="{{redDot}}"><label class="red-dot _span"></label></block><label class="line _span">|</label><label class="{{['_span',listSort?'':'check']}}">热</label></view></view></block><view class="main-list"><block wx:for="{{articleList}}" wx:for-item="item" wx:for-index="id" wx:key="id"><block wx:if="{{listSort}}"><block data-type="template" data-is="itemCardNew" data-attr="item:item,index:index,sensitive:sensitive"><view class="main-list-item"><form data-article-id="{{item.id}}" data-article-index="{{index}}" reportSubmit="true" data-event-opts="{{[['submit',[['goArticle',['$event']]]]]}}" bindsubmit="__e"><button class="main-item-article" formType="submit" hoverClass="main-item-article-hover"><text class="article-text">{{item.content}}</text><view class="article-author">{{"-- "+item.userNick}}</view></button></form><view class="main-item-sidebar" style="{{('height:'+(item.line*60+40)+'rpx')}}"><view class="date"><view class="date-text"><view class="dayStr">{{mod.getDateArr(item.created_at)[2]}}</view><view class="date-line"></view><view class="month">{{mod.getMonthStr(mod.getDateArr(item.created_at)[1])}}</view></view></view><view class="main-sidebar-action"><view class="share" data-article-id="{{item.id}}" data-article-index="{{index}}" hoverClass="class-hover" data-event-opts="{{[['tap',[['showShareDialog',['$event']]]]]}}" bindtap="__e"><image class="share-icon" src="../../static/image/share.png"></image><view class="share-text">分享</view></view><form data-article-id="{{item.id}}" data-article-index="{{index}}" data-article-liked="{{item.isLiked}}" reportSubmit="true" data-event-opts="{{[['submit',[['clickLike',['$event']]]]]}}" bindsubmit="__e"><button class="like" formType="submit" hoverClass="class-hover"><view class="like-image"><block wx:if="{{!item.isLiked}}"><image class="like-icon" src="../../static/image/like.png"></image></block><block wx:if="{{item.isLiked}}"><image class="like-icon" src="../../static/image/liked.png"></image></block></view><view class="like-anim"><block wx:if="{{item.likeAnim}}"><image class="like-anim-image" src="../../static/image/liked.png"></image></block></view><view class="like-num-area" hidden="{{item.likeNum==0}}"><view class="like-num">{{item.likeNum}}</view></view><view class="like-text">扎心</view></button></form></view></view></view><block wx:if="{{(index+1)%3==0}}"><view class="list-ad"><ad unitId="adunit-0cc2c6eb033128d1"></ad></view></block></block></block><block wx:else><block wx:for="{{articleList}}" wx:for-item="item" wx:for-index="id" wx:key="id"><block data-type="template" data-is="itemCardHot" data-attr="item:item,index:index,sensitive:sensitive"><view class="main-list-item"><form data-article-id="{{item.id}}" data-article-index="{{index}}" reportSubmit="true" data-event-opts="{{[['submit',[['goArticle',['$event']]]]]}}" bindsubmit="__e"><button class="main-item-article" formType="submit" hoverClass="main-item-article-hover"><text class="article-text">{{item.content}}</text><view class="article-author">{{"-- "+item.userNick}}</view></button></form><view class="main-item-sidebar" style="{{('height:'+(item.line*60+40)+'rpx')}}"><view class="date"><view class="date-text"><view class="dayStr">{{mod.getDateArr(item.created_at)[2]}}</view><view class="date-line"></view><view class="month">{{mod.getMonthStr(mod.getDateArr(item.created_at)[1])}}</view></view></view><view class="main-sidebar-action"><view class="share" data-article-id="{{item.id}}" data-article-index="{{index}}" hoverClass="class-hover" data-event-opts="{{[['tap',[['showShareDialog',['$event']]]]]}}" bindtap="__e"><image class="share-icon" src="../../static/image/share.png"></image><view class="share-text">分享</view></view><form data-article-id="{{item.id}}" data-article-index="{{index}}" data-article-liked="{{item.isLiked}}" reportSubmit="true" data-event-opts="{{[['submit',[['clickLike',['$event']]]]]}}" bindsubmit="__e"><button class="like" formType="submit" hoverClass="class-hover"><view class="like-image"><block wx:if="{{!item.isLiked}}"><image class="like-icon" src="../../static/image/like.png"></image></block><block wx:if="{{item.isLiked}}"><image class="like-icon" src="../../static/image/liked.png"></image></block></view><view class="like-anim"><block wx:if="{{item.likeAnim}}"><image class="like-anim-image" src="../../static/image/liked.png"></image></block></view><view class="like-num-area" hidden="{{item.likeNum==0}}"><view class="like-num">{{item.likeNum}}</view></view><view class="like-text">扎心</view></button></form></view></view></view><block wx:if="{{(index+1)%3==0}}"><view class="list-ad"><ad unitId="adunit-6950d410c8b19891"></ad></view></block></block></block></block></block></view><view class="util-loadmore" hidden="{{!loadMore}}"><view class="util-loading"></view><view class="util-loadmore-tips">一大碗毒汤正在袭来</view></view><block wx:if="{{nextPage}}"><view class="util-loadmore" hidden="{{loadMore}}"><view class="util-loadmore-tips">- 已无更多记录 -</view></view></block><block data-type="template" data-is="shareDialog" data-attr="isShareDialogShow:isShareDialogShow,shareQuanImage:shareQuanImage,clickShareArticleId:clickShareArticleId,clickShareArticleIndex:clickShareArticleIndex"><block wx:if="{{isShareDialogShow}}"><view class="share-dialog" catchtouchmove="disMove" data-event-opts="{{[['tap',[['hideShareDialog',['$event']]]]]}}" catchtap="__e"><view class="share-load"><block wx:if="{{!shareQuanImage}}"><view class="util-loadmore"><view class="util-loading"></view><view class="util-loadmore-tips">正在加载海报</view></view></block></view><view class="share-image"><image mode="aspectFill" src="{{shareQuanImage}}"></image></view><view class="share-dialog-area"><view class="share-to-user" hoverClass="class-hover" data-event-opts="{{[['tap',[['clickNull',['$event']]]]]}}" catchtap="__e"><image src="../../static/image/share-user.png"></image><button openType="share"></button><view class="share-to-user-text">转发好友</view></view><block wx:if="{{!sensitive}}"><view class="share-to-quan" data-article-id="{{clickShareArticleId}}" data-article-index="{{clickShareArticleIndex}}" hoverClass="class-hover" data-event-opts="{{[['tap',[['saveShareImage',['$event']]]]]}}" catchtap="__e"><image src="../../static/image/share-quan.png"></image><view class="share-to-user-text">保存相册</view></view></block></view></view></block></block></view>